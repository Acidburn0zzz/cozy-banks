@require 'cozy-ui'
@require '../../styles/breakpoints.styl'
@require '../../styles/mixins.styl'

.coz-table
    position        relative
    display         flex
    flex-direction  column
    flex            1 1 100%
    text-align      left
    color           cool-grey

    thead, tbody
        display   flex
        flex-direction column
        flex-grow 1
        flex-shrink 0

    tbody
        max-width 100%
        flex-basis auto
        overflow  auto

    tr
        flex            1 0 auto
        display         flex
        flex-direction  row
        align-items     center
        border-bottom   1px solid silver

    tbody
        tr:hover
            background-color pale-grey

    th
        text-align left
        font-weight normal

    thead
        td, th
            font-size       .75em
            text-transform  uppercase
            display block

    td, th
        box-sizing  border-box
        padding 1em 0 1em 2rem
        font-size 1em
        flex-grow 1
        flex-shrink 0
        display block

        &:last-child
            padding-right 2rem

        &.coz-table-td-secondary
            font-size .875em

    +medium-screen()
        tr
            max-width  100vw

    +small-screen()
        thead
            display none

        tbody
            max-height  100%
            font-size .9em

        td
            padding 1em 0 1em 1rem

            &:last-child
                padding-right 1rem

    .coz-table-td-with-icon
        background-repeat no-repeat
        padding-left calc(3rem + 32px)
        background-position 2rem
        background-size 32px
        text-transform uppercase

        +small-screen()
            padding-left calc(1.5rem + 26px)
            background-position 1rem
            background-size 26px

+small-screen()
    .coz-table
        .mobile-row
            flex-wrap wrap

        .mobile-row:first-child
            border-top 1px solid silver

        .mobile-row-main
            maxed-flex-basis 100%
            padding-top .5rem
            padding-bottom .25rem
            font-size 1rem
            color charcoal-grey

        .mobile-row-label
            padding-top .25rem
            padding-bottom .5rem
            font-size .75rem
            color cool-grey
            max-width fit-content
