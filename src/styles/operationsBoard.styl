@import 'cozy-ui'

[role=application] // @stylint ignore
    @extend $table

    .coz-table
        width           calc(100% + 2em)
        margin-left     -2em
        margin-bottom   3em

    .coz-table-body
        height auto

    .coz-table-cell
    .coz-table-header
        font-size     em(14px)
        padding-right em(12px)
        padding-left  em(24px)

    .bnk-table-date
        flex            1 0 11em
        padding-left    em(36px)

    .bnk-table-amount
        flex        1 0 7em
        text-align  right

    .bnk-table-desc
        flex    1 0 25em

    .bnk-table-actions
        flex  1 1 15em

        span
            display block
            margin-bottom  em(10px)

            &:last-child
                margin-bottom 0

    .coz-table-cell.bnk-table-desc
        padding-left    4.5em
        color           black
        // default movement icon
        background  embedurl('../assets/icons/categories/icon-cat-uncategorized.svg') center no-repeat
        background-position-x   em(24px)

    .coz-table-cell.bnk-table-amount
        color black

    .bnk-table-actions-link
        cursor pointer
        padding-left   2em
        padding-top    .1em
        padding-bottom .1em
        background     embedurl('../assets/icons/icon-link-out.svg') em(0px) center no-repeat

    @media (max-width: (768/basefont)rem)
        .bnk-table-desc
            flex    1 0 12em

        .bnk-table-date
            flex    1 0 7em

        .bnk-table-amount
            padding-right 2em

    // All icons and classes for movement types

    childrenMvts = children_activities pocket_money school_insurance child-care toys child_support school_restaurant children_others

    dailyLifeMvts = regular_shopping pets gifts cosmetics donations clothing telecom personal_loan_refund shopping meals press daily_life_others

    educationMvts = lessons school_fees education_supplies student_load_refund education_others

    healthMvts = health_insurance health_costs health_refunds health_others

    housingMvts = housing_insurance housing_costs water electricity rent furnitures mortgage_refund house_works housing_others

    incomeMvts = allowances gift_incomes dividends interests pension complementary_incomes replacement_incomes rental_incomes salary income_others

    leasuresMvts = leasures_subscription leasures_lessons electronic leasures_supplies multimedia hobbies leasures_others

    outBudgetMvts = security_purchases security_sales advances refunds releasings expenses_bill deferred_debit saving_transfer internal_transfer out-budget_others

    servicesMvts = home_help financial_consulting legal_consulting bank_charges post services_others

    taxesMvts = social_contributions income_tax wealth_tax property_tax taxes_others

    transportationMvts = car_purchase car_insurance fuel vehicle_maintenance garage vehicle_rental parking_costs vehicle_loan_refund taxi public_transportation transportation_others

    tripsMvts = trips_transportation restaurants cultural_trips relaxation_trips journeys trips_others

    uncategorizedMvts = cheques withdrawals uncategorized_transfers uncategorized_others

    // GATHERED
    allMvts = childrenMvts dailyLifeMvts educationMvts healthMvts housingMvts incomeMvts leasuresMvts outBudgetMvts servicesMvts taxesMvts transportationMvts tripsMvts uncategorizedMvts

    // For now, all mouvements from same category use the same icon
    categories = children daily-life education health housing income leasures out-budget services taxes transportation trips uncategorized

    // TODO use function to get each movement icon instead of category icon
    getTemporaryCatBkg(categoryLabel)
        icon = '../assets/icons/categories/icon-cat-%s.svg' % categoryLabel
        {background} embedurl(icon) center no-repeat // @stylint ignore

    for num in 0..12
        mvtsList = allMvts[num]
        category = categories[num]
        for mvt in mvtsList
            .coz-table-cell.bnk-table-desc--{mvt}
                getTemporaryCatBkg(category)
                background-position-x   em(24px)
