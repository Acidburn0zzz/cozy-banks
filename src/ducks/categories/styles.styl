@require 'settings/breakpoints'
@require '~styles/mixins.styl'

.bnk-cat-top
    display         flex
    flex-direction  row
    flex-wrap wrap

    .bnk-cat-form
        flex-basis 50%

    .bnk-cat-filter
        padding 2rem 0 0

        > span
            margin-right 1em
        > label
            font-size .8em
            position absolute
            line-height 24px

    .bnk-cat-chart
        height 182px
        margin-top -100px
        margin-left auto
        position relative

.CategoriesChart__FigureBlockContainer
    position absolute
    top 25px
    bottom 25px
    left 30px
    right 30px
    border-radius 50%
    display flex
    flexdrection column
    justify-content center
    align-items center

.CategoriesChart__FigureBlock
    display flex
    flex-direction column-reverse
    align-items center
    text-align center

.CategoriesChart__Figure
    font-size 1.5rem
    line-height 1.33

+small-screen()
    .bnk-cat-top
        .bnk-cat-filter
            padding 0.65rem 0 0

        .bnk-cat-form
            flex-basis 100%

        .bnk-cat-chart
            margin-top 1.5rem
            margin-bottom 1.5rem
            margin-right auto

    .CategoriesChart__Figure
        padding-bottom 0

.PercentageLine
    position absolute
    bottom -1px
    left 0
    height 2px

// Table
.bnk-table-category
    @extend $full-width-table

    tbody tr
        cursor  pointer

    .bnk-table-percentage
        text-align right

    .bnk-table-operation
        text-align right

    .bnk-table-amount
    .bnk-table-total
        text-align right

    .bnk-table-row
    .bnk-table-row--uncollapsed
        color charcoalGrey
        position relative

        .bnk-table-percentage
            font-weight bold

    +small-screen('min')
        .bnk-table-category-category
            maxed-flex-basis 50%

        .bnk-table-percentage
            maxed-flex-basis 10%

        .bnk-table-operation
            maxed-flex-basis 10%

        .bnk-table-total
            maxed-flex-basis 30%

    +medium-screen('min')
        .bnk-table-category-category
            maxed-flex-basis 30%
        .bnk-table-percentage
            maxed-flex-basis 10%
        .bnk-table-operation
            maxed-flex-basis 10%
        .bnk-table-amount
        .bnk-table-total
            maxed-flex-basis 14%
        .bnk-table-chevron
            maxed-flex-basis 5%

    // All icons and classes for categories types

    categories = kids dailyLife educationAndTraining health homeAndRealEstate incomeCat activities excludeFromBudgetCat services tax transportation goingOutAndTravel uncategorized

    getCatBkg(categoryLabel)
        icon = '../../assets/icons/categories/icon-cat-%s.svg' % categoryLabel
        background-image embedurl(icon)

    for category in categories
        .bnk-table-category--{category}
            getCatBkg(category)

.bnk-category-total-mobile
    min-width 5rem
